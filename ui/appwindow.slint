import { GridBox, StandardButton, Button } from "std-widgets.slint";
import { CheckBox, ComboBox, TextEdit, ScrollView } from "std-widgets.slint";

export component Office inherits Window {
    in-out property <int> counter: 42;
    callback request-increase-value();
    callback open_dialog();
    in-out property <string> file_path: "No file selected";
    in-out property <string> output_text: "If the add-on does not work: \n    Please select the program and select initialize.";

    min-width: 500px;
    min-height: 400px;
    title: "Example GUI";
    VerticalLayout {
        HorizontalLayout {
            alignment: center;
            padding: 10px;
            Text {
                text: "Office Template Helper";
            }
        }

        FileSelector := HorizontalLayout {
            padding-top: 40px;
            width: 100%;
            Button {
                min-width: 150px;
                min-height: 25px;
                text: "Open File";
                clicked => {
                    root.open_dialog();
                    }
            }

            Text {
                    text: file_path;
            }
        }

        // init := HorizontalLayout {
        //     alignment: center;
        //     // This will center the child widget horizontally
        //         Button {
        //         width: 80%;
        //         height: 20px;
        //         text: "Initalize";
        //         clicked => {
        //             // FileDialog::open_single_file("Select a file", "", |file_path| {
        //             //     if let Some(path) = file_path {
        //             //         file_path_text.text = path;
        //             //     } else {
        //                 //         file_path_text.text = "No file selected";
        //                 //     }
        //                 // });
        //             }
        //     }
        // }

        labeled := HorizontalLayout {
            padding-bottom: 0px;
            padding: 10px;
            width: 100%;
            height: 5%;
            Text {
                text: "Program:";
            }

            Text {
                text: "Add-On:";
            }
        }

        settings := HorizontalLayout {
            padding-top: 0px;
            padding-left: 30px;
            padding-right: 30px;
            width: 100%;
            height: 10%;
            GridBox {
                ComboBox {
                    enabled: false;
                    model: ["Program", "Option 2", "Option 3"];
                }

                ComboBox {
                    enabled: false;
                    model: ["Choice A", "Choice B", "Choice C"];
                }
            }
        }

        logger := HorizontalLayout {
            padding-top: 10px;
            //width: 100%;
            
                //alignment: center; // This will center the child widget horizontally


                // center the text editor
                
                ScrollView {
                    padding-top: 10px;
                TextEdit {
                    min-width: 490px;
                    min-height: 150px;
                    text: output_text;
                    // Since the TextEdit is the only child inside the ScrollView, it will fill the ScrollView's size
                    }
            }
        }

        HorizontalLayout {
            padding-left: 50px;
            padding-right: 30px;
            padding-top: 10px;
            padding-bottom: 20px;
            alignment: space-between;
            Rectangle {
                width: 100px;
            }

            Button {
                width: 40%;
                //height: 20px;
                text: "Start";
                clicked => {
                    request-increase-value();
                }
            }

            CheckBox {
                text: ": Enable Option ";
                checked: false;
            }
        }
        HorizontalLayout {
            alignment: space-between;
            Text {text: "version: 1.0.0";}
            //Text {text: "Â© 2024";}
            Text {text: "Made with Slint";}
        }

        // HorizontalLayout {
        //     //padding-right: 30px;
        //         GridBox {
        //         StandardButton {
        //             kind: ok;
        //             clicked => {
        //                 request-increase-value();
        //             }
        //         }

        //         StandardButton {
        //             kind: close;
        //             clicked => {
        //                 request-increase-value();
        //             }
        //         }

        //         StandardButton {
        //             kind: reset;
        //             clicked => {
        //                 request-increase-value();
        //             }
        //         }
        //     }
        // }
    }
}
